<!DOCTYPE html>
<html>
<head>
    <title>PawMaster AI - –í–∞—à –∫–∏–Ω–æ–ª–æ–≥</title>
    <meta charset="UTF-8">
    <style>
        body { 
            font-family: Arial, sans-serif; 
            max-width: 600px; 
            margin: 40px auto; 
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .container { 
            background: rgba(255,255,255,0.1); 
            padding: 30px; 
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        h1 { text-align: center; margin-bottom: 30px; }
        textarea { 
            width: 100%; 
            height: 120px; 
            margin: 15px 0; 
            padding: 15px;
            border: none; 
            border-radius: 10px;
            font-size: 16px;
        }
        button { 
            background: #FF6B6B; 
            color: white; 
            border: none; 
            padding: 15px 30px;
            border-radius: 25px; 
            font-size: 18px; 
            cursor: pointer;
            width: 100%;
        }
        button:hover { background: #FF5252; }
        button:disabled { background: #ccc; cursor: not-allowed; }
        .response { 
            margin-top: 25px; 
            padding: 20px; 
            background: rgba(255,255,255,0.2);
            border-radius: 10px; 
            border-left: 4px solid #4ECDC4;
        }
        .loading { display: none; text-align: center; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üêæ PawMaster AI</h1>
        <p>–í–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π AI-–∫–∏–Ω–æ–ª–æ–≥</p>
        
        <textarea id="question" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –©–µ–Ω–æ–∫ 3 –º–µ—Å—è—Ü–∞ –≥—Ä—ã–∑–µ—Ç –æ–±—É–≤—å, —á—Ç–æ –¥–µ–ª–∞—Ç—å?"></textarea>
        
        <button onclick="askAI()" id="askBtn">–°–ø—Ä–æ—Å–∏—Ç—å —É –∫–∏–Ω–æ–ª–æ–≥–∞</button>
        
        <div class="loading" id="loading">
            <p>ü§î AI-–∫–∏–Ω–æ–ª–æ–≥ –¥—É–º–∞–µ—Ç...</p>
        </div>
        
        <div id="response" class="response"></div>
    </div>

    <script>
        async function askAI() {
            const question = document.getElementById('question').value.trim();
            const btn = document.getElementById('askBtn');
            const loading = document.getElementById('loading');
            const responseDiv = document.getElementById('response');
            
            if (!question) {
                responseDiv.innerHTML = '<p style="color: #FF6B6B">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –≤–æ–ø—Ä–æ—Å</p>';
                return;
            }
            
            btn.innerHTML = '–î—É–º–∞—é...';
            btn.disabled = true;
            loading.style.display = 'block';
            responseDiv.innerHTML = '';
            
            try {
                // –ò—Å–ø–æ–ª—å–∑—É–µ–º CORS –ø—Ä–æ–∫—Å–∏
                const proxyUrl = 'https://api.allorigins.win/raw?url=';
                const apiUrl = encodeURIComponent('https://gigachat.api.sber.ru/api/v1/chat/completions');
                
                const response = await fetch(proxyUrl + apiUrl, {
                    method: 'POST',
                    headers: {
                        'Authorization': 'Bearer 0199f13d-237f-7f59-b35b-768fbef09ee4',
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        "model": "GigaChat",
                        "messages": [
                            {
                                "role": "system",
                                "content": "–¢—ã –∫–∏–Ω–æ–ª–æ–≥ –ê–ª–µ–∫—Å–µ–π. –û—Ç–≤–µ—á–∞–π –∫—Ä–∞—Ç–∫–æ –∏ –ø–æ –¥–µ–ª—É. –°—Ç—Ä—É–∫—Ç—É—Ä–∞: 1) –ü—Ä–æ–±–ª–µ–º–∞, 2) 3 —à–∞–≥–∞ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è, 3) –ß—Ç–æ –∫—É–ø–∏—Ç—å –≤ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –º–∞–≥–∞–∑–∏–Ω–∞—Ö, 4) –†–µ–∑—É–ª—å—Ç–∞—Ç. –ë—É–¥—å –¥–æ–±—Ä–æ–∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã–º."
                            },
                            {
                                "role": "user",
                                "content": question
                            }
                        ],
                        "temperature": 0.7,
                        "max_tokens": 500
                    })
                });
                
                if (!response.ok) throw new Error('–û—à–∏–±–∫–∞ API');
                
                const data = await response.json();
                responseDiv.innerHTML = `<strong>–û—Ç–≤–µ—Ç –∫–∏–Ω–æ–ª–æ–≥–∞:</strong><br>${data.choices[0].message.content}`;
                
            } catch (error) {
                responseDiv.innerHTML = `<p style="color: #FF6B6B">–û—à–∏–±–∫–∞: ${error.message}. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É.</p>`;
            }
            
            btn.innerHTML = '–°–ø—Ä–æ—Å–∏—Ç—å —É –∫–∏–Ω–æ–ª–æ–≥–∞';
            btn.disabled = false;
            loading.style.display = 'none';
        }
        
        // Enter –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏
        document.getElementById('question').addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                askAI();
            }
        });
    </script>
</body>
</html>
